<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        
    <report 
    id="action_print_checklist_summary"
    model="purchase.requisition"
    string="Print Bids Checklist Summary"
    report_type="qweb-pdf"
    name="ak_purchase_agreement_panel.bids_checklist_template"
    file="ak_purchase_agreement_panel.bids_checklist_template"
    print_report_name="'Contract - %s' % (object.name)"
/>

<record id="paperformat_contracts" model="report.paperformat">
    <field name="name">Contract Details Paper Format</field>
    <field name="default" eval="True" />
    <field name="format">A4</field>
    <field name="orientation">Landscape</field>
    <field name="margin_top">20</field>
    <field name="margin_bottom">20</field>
    <field name="margin_left">15</field>
    <field name="margin_right">15</field>
    <field name="header_line" eval="False" />
    <field name="header_spacing">20</field>
    <field name="dpi">100</field>
</record>

<record id="action_print_checklist_summary" model="ir.actions.report">
    <field name="paperformat_id" ref="ak_purchase_agreement_panel.paperformat_contracts"/>
</record>

<template id="bid_main_info">
    <t t-if="o and 'company_id' in o">
        <t t-set="company" t-value="o.company_id"></t>
    </t>
    <t t-if="not o or not 'company_id' in o">
        <t t-set="company" t-value="res_company"></t>
    </t>
    
    <t t-call="ak_purchase_agreement_panel.contract_header" />
    <t t-raw="0" />
    <t t-call="ak_purchase_agreement_panel.contract_footer"/>
</template>

<template id="contract_header">
    <div class="header">
        <!-- <div class="header-container d-flex justify-content-around p-2" style="border: 1px solid black; ">
            <div class="left-col" style="border: 1px solid black;">
                <p>hello world</p>
            </div>
            <div class="right-col" style="border: 1px solid black;">
                <p>good bye</p>
            </div>
        </div> -->
        <!-- <table class="">
            <tbody>
                <tr>
                    <td>
                        <p style="color: pink; font-size: 5px !important;"><span t-esc="o.po_id.company_id.name"/></p>
                        <p style="color: pink; font-size: 5px !important;"><span t-esc="o.po_id.company_id.street"/></p>
                        <p style="color: pink; font-size: 5px !important;"><span t-esc="o.po_id.company_id.street2"/></p>
                        <p style="color: pink; font-size: 5px !important;"><span t-esc="o.po_id.company_id.email"/></p>
                        
                    </td>
                    <td><span class="mr-3">Requisition Ref: </span><span t-esc="o.purchase_requisition_id.name"/></td>
                </tr>
            </tbody>
        </table> -->
        <!-- <table width="100%">
            <tr>
                <td>
                    <p style="color: blue !important; font-size: 6px !important;"><span t-esc="o.po_id.company_id.name"/></p>
                </td>
                <td>
                    <span t-esc="o.po_id.company_id.name"/>
                </td>
            </tr>
        </table> -->
    </div>
</template>

<template id="contract_footer">
    <div class="footer">
        <!-- <table width="100%">
            <tr>
                <td class="text-center" style="font-size: 12px;">
                    <span><span t-esc="company.name"/>, <span t-esc="company.street"/>, <span t-esc="company.street2"/>, <span t-esc="company.city"/>, <span t-esc="company.state_id.name"/>, <span t-esc="company.country_id.name"/></span><br/>
                    <span>Phones: <span style="margin-right:2px;" t-esc="company.phone"/></span>
                    <span>Email: <span style="margin-right:2px; color:#0f92e7;" t-esc="company.email"/> Web: <span t-esc="company.website" style="color:#0f92e7; margin-left:2px;"/></span>
                </td>
            </tr>
            <tr>
                <td class="text-center" style="font-size: 13px;padding:5px 20px; font-style:italic;">
                    Company is Registered &amp; Licensed as a limited liability company under the laws of the Islamic Republic of Afghanistan
                </td>
            </tr>
        </table> -->
    </div>
</template>

<template id="bids_checklist_summary_template">
    <t t-call="web.basic_layout">
        <t t-call="ak_purchase_agreement_panel.bid_main_info">
            <div class="page" >
                <style>
                    .has-border {
                        border: 1px solid black;
                      }
                    
                    td {
                        padding: 5px;
                    }

            </style>

                <h4 class="text-center" >BIDS CHECKLIST SUMMARY SHEET</h4>
                <br/>
                <br/>
                <table style="width: 100%">

                    <tbody>
                        <tr>
                            <td><span class="mr-3">Requisition Ref: </span><span t-esc="o.name"/></td>
                            <td class="text-right"><span class="mr-3">Purchase Comittee:</span><span t-esc="o.panel_id.name"/></td>
                        </tr>
                        <tr>
                            <td class="text-right"><span class="mr-3"></span><span /></td>
                            <td class="text-right"><span class="mr-3">Agreement Deadline: </span><span t-esc="o.date_end"/></td>
                        </tr>
                        
                    </tbody>
                </table>
                <br/>

                <!-- <h5>Bid Evaluation</h5> -->
          
            <table style="width: 100%; white-space: wrap; table-layout: fixed;">
                <tbody>
                    
                    <t t-set="titles_list" t-value="o.get_checklist_summary_titles()"/>
                    <tr >
                        <td style="width: 15%;"><span />Criteria:</td>
                        <t t-foreach="titles_list" t-as="title">
                            <td><span style="text-transform: capitalize ;" t-esc="title"/></td>
                        </t>

                    </tr>

                    <t t-set="bidders_list" t-value="o.get_checklist_summary_lines()"/>
                    <t t-foreach="bidders_list" t-as="bidder">
                        <tr >
                            <td><span t-esc="bidder[0]"/></td>
                            <t t-foreach="bidder[1]" t-as="checklist_item">
                                <td style="text-align:center;"><span style="text-transform: capitalize; text-align: center;" t-esc="checklist_item_value"/></td>
                            </t>
                        </tr>
                    </t>
                </tbody>
            </table>

             <!-- <t t-set="all_vals" t-value="o.checklist_summary_lines()" />
                <t t-foreach="all_vals" t-as="doc">
                    <span t-esc="doc"/>
                    <br/>
                    <span t-esc="doc_value"/>
                    <br/>
                </t>  -->
                
                <!-- <table class="table table-sm">
                    <thead>
                        <tr style="background:#f3f5f2">
                            <th >Item</th>
                            <th>Available</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.checklist_item_ids" t-as="item">
                            <td><span t-esc="item.name"/></td>
                            <td><span t-esc="o.get_checklist_status(item.item_clear)"/></td>
                        </tr>
                    </tbody>
                </table> -->
                

                <!-- <table class="table table-sm">
                        <tr  style="background:#f3f5f2">
                            <th>Bidder</th>
                        </tr>
                        <tr t-foreach="o.checklist_summary_lines()" t-as="evaluation">
                            <td><span t-esc="evaluation.partner_id.name"/></td>
                            <t t-foreach="evaluation.checklist_item_ids" t-as="item">
                                <td><span t-esc="item.name"/></td>
                                <td><span t-esc="item.item_clear"/></td>
                            </t>
                        </tr>
                        

                </table> -->
                <br/>

        
            <br/>
        </div> 
        </t>
    </t>
</template> 

 
    <template id="bids_checklist_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="ak_purchase_agreement_panel.bids_checklist_summary_template"/>
            </t>
        </t>
    </template>


</odoo>